<!doctype html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="shortcut icon" type="image/x-icon" href="images/IMG_0640.PNG" />
        <title>Plataforma Cultural Virtual</title>
        <link href='https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css' rel='stylesheet'>
        <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'>
        <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
        <script type='text/javascript' src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
        <script type='text/javascript' src='https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js'></script>
    </head>
    <app-header></app-header>
    <br><br>
    <body oncontextmenu='return false' class='snippet-body'>
        <div class="container-fluid px-1 py-5 mx-auto">
            <div class="row d-flex justify-content-center">
                <div class="col-xl-5 col-lg-6 col-md-7">
                    <div class="card b-0">
                        <h3 class="heading">Solicitud de Servicio</h3>
                        <p class="desc">Complete el formulario con la información solicitada, según el servicio que requiera.</p>
                        <ul id="progressbar" class="text-center">
                            <li class="active step0" id="step1"></li>
                            <li class="step0" id="step2"></li>
                            <li class="step0" id="step3"></li>
                            <li class="step0" id="step4"></li>
                        </ul>
                        <fieldset class="show">
                            <div class="form-card">
                                <h5 class="sub-heading">Seleccione el servicio deseado</h5>
                                <div class="row px-1 radio-group" >
                                    <div class="card-block text-center radio selected">
                                        <div class="image-icon"> <img class="icon icon1" src="/assets/images/serv1.jpeg" alt=""> </div>
                                        <p class="sub-desc">Reservar un aula</p>
                                    </div>
                                    <div class="card-block text-center radio">

                                        <div class="image-icon"> <img class="icon icon1 fit-image" src="/assets/images/serv2.jpeg" alt=""> </div>
                                        <p class="sub-desc">Impartir un curso</p>
                                    </div>
                                </div> <button id="next1" class="btn-block btn-primary mt-3 mb-1 next">SIGUIENTE<span class="fa fa-long-arrow-right"></span></button>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="form-card">
                                <h5 class="sub-heading mb-4">Datos personales</h5> <label class="text-danger mb-3">* Obligatorios</label>
                                <div class="form-group"> <label class="form-control-label">Nombre * :</label> <input type="text" id="fname" name="fname" placeholder="" class="form-control" onblur="validate1(1)"> </div>
                                <div class="form-group"> <label class="form-control-label">Apellido * :</label> <input type="text" id="lname" name="lname" placeholder="" class="form-control" onblur="validate1(2)"> </div>
                                <div class="form-group"> <label class="form-control-label">Correo electrónico * :</label> <input type="text" id="email" name="email" placeholder="" class="form-control" onblur="validate1(3)"> </div>
                                <div class="form-group"> <label class="form-control-label">Número de teléfono * :</label> <input type="text" id="mob" name="mob" placeholder="" class="form-control" onblur="validate1(4)"> </div> 
                                <button id="next2" class="btn-block btn-primary mt-3 mb-1 next mt-4" onclick="validate1(0)">SIGUIENTE<span class="fa fa-long-arrow-right"></span></button> 
                                <button class="btn-block btn-secondary mt-3 mb-1 prev"><span class="fa fa-long-arrow-left"></span>ANTERIOR</button>
                            </div>
                        </fieldset>
                        <fieldset>
                            <div class="form-card">
                                <h5 class="sub-heading mb-4">Datos de la reserva del aula</h5> <label class="text-danger mb-3">* Obligatorios</label>
                                <div class="form-group"> <label class="form-control-label">Motivo * :</label> <input type="text" id="mot" name="mot" placeholder="" class="form-control" onblur="validate2(1)"> </div>
                                <div class="form-group"> <label class="form-control-label">Cantidad de personas * :</label> <input type="number" id="cant" name="cant" placeholder="" class="form-control" onblur="validate2(2)"> </div>
                                <div class="form-group"> <label class="form-control-label">Fecha de la reserva * :</label> <input type="date" id="fech" name="fech" placeholder="" class="form-control" onblur="validate2(3)"> </div>
                                <div class="form-group"> <label class="form-control-label">Hora de inicio * :</label> <input type="time" id="hi" name="hi" placeholder="" class="form-control" onblur="validate2(4)"> </div>
                                <div class="form-group"> <label class="form-control-label">Hora de finalización * :</label> <input type="time" id="hf" name="hf" placeholder="" class="form-control" onblur="validate2(5)"> </div>
                                <div class="form-group"> <label class="form-control-label">Equipo requerido * :</label> <input type="text" id="equi" name="equi" placeholder="" class="form-control" onblur="validate2(6)"> </div>
                                <button id="next3" class="btn-block btn-primary mt-3 mb-1 next mt-4" onclick="validate2(0)">SOLICITAR<span class="fa fa-long-arrow-right"></span></button> <button class="btn-block btn-secondary mt-3 mb-1 prev"><span class="fa fa-long-arrow-left"></span>ANTERIOR</button> 
                            </div> 
                        </fieldset>
                        <fieldset> 
                            <div class="form-card">
                                <h5 class="sub-heading mb-4">Perfecto!</h5>
                                <div class="check">Su solicitud ha sido enviada. <img class="fit-image check-img" src="https://i.imgur.com/QH6Zd6Y.gif"> </div>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>
        </div>
        <script type='text/javascript'>
            function validate1(val) {
                v1 = document.getElementById("fname");
                v2 = document.getElementById("lname");
                v3 = document.getElementById("email");
                v4 = document.getElementById("mob");

                flag1 = true;
                flag2 = true;
                flag3 = true;
                flag4 = true;

                if (val >= 1 || val == 0) {
                    if (v1.value == "") {
                        v1.style.borderColor = "red";
                        flag1 = false;
                    } else {
                        v1.style.borderColor = "green";
                        flag1 = true;
                    }
                }

                if (val >= 2 || val == 0) {
                    if (v2.value == "") {
                        v2.style.borderColor = "red";
                        flag2 = false;
                    } else {
                        v2.style.borderColor = "green";
                        flag2 = true;
                    }
                }

                if (val >= 3 || val == 0) {
                    if (v3.value == "") {
                        v3.style.borderColor = "red";
                        flag3 = false;
                    } else {
                        v3.style.borderColor = "green";
                        flag3 = true;
                    }
                }

                if (val >= 4 || val == 0) {
                    if (v4.value == "") {
                        v4.style.borderColor = "red";
                        flag4 = false;
                    } else {
                        v4.style.borderColor = "green";
                        flag4 = true;
                    }
                }

                flag = flag1 && flag2 && flag3 && flag4;

                return flag;
            }

            function validate2(val) {
                v1 = document.getElementById("mot");
                v2 = document.getElementById("cant");
                v3 = document.getElementById("fech");
                v4 = document.getElementById("hi");
                v5 = document.getElementById("hf");
                v6 = document.getElementById("equi");

                flag1 = true;
                flag2 = true;
                flag3 = true;
                flag4 = true;
                flag5 = true;
                flag6 = true;

                if (val >= 1 || val == 0) {
                    if (v1.value == "") {
                        v1.style.borderColor = "red";
                        flag1 = false;
                    } else {
                        v1.style.borderColor = "green";
                        flag1 = true;
                    }
                }

                if (val >= 2 || val == 0) {
                    if (v2.value == "") {
                        v2.style.borderColor = "red";
                        flag2 = false;
                    } else {
                        v2.style.borderColor = "green";
                        flag2 = true;
                    }
                }

                if (val >= 3 || val == 0) {
                    if (v3.value == "") {
                        v3.style.borderColor = "red";
                        flag3 = false;
                    } else {
                        v3.style.borderColor = "green";
                        flag3 = true;
                    }
                }

                if (val >= 4 || val == 0) {
                    if (v4.value == "") {
                        v4.style.borderColor = "red";
                        flag4 = false;
                    } else {
                        v4.style.borderColor = "green";
                        flag4 = true;
                    }
                }

                if (val >= 5 || val == 0) {
                    if (v5.value == "") {
                        v5.style.borderColor = "red";
                        flag5 = false;
                    } else {
                        v5.style.borderColor = "green";
                        flag5 = true;
                    }
                }

                if (val >= 6 || val == 0) {
                    if (v6.value == "") {
                        v6.style.borderColor = "red";
                        flag4 = false;
                    } else {
                        v6.style.borderColor = "green";
                        flag6 = true;
                    }
                }

                flag = flag1 && flag2 && flag3 && flag4 && flag5 && flag6;

                return flag;
            }



            $(document).ready(function () {

                var current_fs, next_fs, previous_fs;

                $(".next").click(function () {

                    str1 = "next1";
                    str2 = "next2";
                    str3 = "next3";

                    if (!str2.localeCompare($(this).attr('id')) && validate1(0) == true) {
                        val2 = true;
                    } else {
                        val2 = false;
                    }

                    if (!str3.localeCompare($(this).attr('id')) && validate2(0) == true) {
                        val3 = true;
                    } else {
                        val3 = false;
                    }

                    if (!str1.localeCompare($(this).attr('id')) || (!str2.localeCompare($(this).attr('id')) && val2 == true) || (!str3.localeCompare($(this).attr('id')) && val3 == true)) {
                        current_fs = $(this).parent().parent();
                        next_fs = $(this).parent().parent().next();

                        $(current_fs).removeClass("show");
                        $(next_fs).addClass("show");

                        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

                        current_fs.animate({}, {
                            step: function () {

                                current_fs.css({
                                    'display': 'none',
                                    'position': 'relative'
                                });

                                next_fs.css({
                                    'display': 'block'
                                });
                            }
                        });
                    }
                });

                $(".prev").click(function () {

                    current_fs = $(this).parent().parent();
                    previous_fs = $(this).parent().parent().prev();

                    $(current_fs).removeClass("show");
                    $(previous_fs).addClass("show");

                    $("#progressbar li").eq($("fieldset").index(next_fs)).removeClass("active");

                    current_fs.animate({}, {
                        step: function () {

                            current_fs.css({
                                'display': 'none',
                                'position': 'relative'
                            });

                            previous_fs.css({
                                'display': 'block'
                            });
                        }
                    });
                });

                $('.radio-group .radio').click(function () {
                    $(this).toggleClass('selected');
                });

            });
        </script>
    </body>
</html>
